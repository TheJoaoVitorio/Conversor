unit uOrigemDatabaseController;

interface

uses
  uMySQLController.Teste, Vcl.Dialogs;

type
  TOrigemDatabaseController = class  {Controller da unit SELECIONAR ORIGEM}
    private
      fSelecionarOrigem : String;
    public
      class function GetController : TOrigemDatabaseController;

      function TesteConexao      : Boolean;
      function TesteConexaoMySQL : Boolean;

      property AcessarOrigem : String read fSelecionarOrigem write fSelecionarOrigem;
  end;

implementation

{ TOrigemDatabaseController }
var
  iControllerOrigemData : TOrigemDatabaseController;

class function TOrigemDatabaseController.GetController: TOrigemDatabaseController;
  begin
    if iControllerOrigemData = nil then
      iControllerOrigemData := iControllerOrigemData.Create;

    Result := iControllerOrigemData;
  end;


function TOrigemDatabaseController.TesteConexao: Boolean;
  begin
    if AcessarOrigem = 'MySQL 10.4.32' then
      begin
        try
          if TMySQLController.GetControllerMY.AcessarConexaoMy.GetConexaoMySQL.Connected then
            begin
                ShowMessage('Conectado!');
                Result := True;
            end
          else
            begin
              ShowMessage('Não Conectado!');
              Result := False;
            end;
        except
            ShowMessage('Algo de errado acontenceu! ');
            Result := False;
        end;

      end;

  end;

function TOrigemDatabaseController.TesteConexaoMySQL: Boolean;
  begin
    try
      if TMySQLController.GetControllerMY.AcessarConexaoMy.GetConexaoMySQL.Connected then
        begin
          ShowMessage('Conectado!');
          Result := True;
        end
      else
        begin
          ShowMessage('Não Conectado!');
          Result := False;
        end;
    except
      ShowMessage('Algo de errado acontenceu! ');
      Result := False;
    end;
  end;

initialization
  iControllerOrigemData := TOrigemDatabaseController.create

finalization
  if iControllerOrigemData <> nil then
    iControllerOrigemData.Free;


end.
